<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Git | Introduction to Python</title>
  <meta name="description" content="Chapter 2 Git | Introduction to Python" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Git | Introduction to Python" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Git | Introduction to Python" />
  
  
  

<meta name="author" content="Łukasz Muszyński" />


<meta name="date" content="2020-05-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html">
<link rel="next" href="sonar-qube.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introdution to Python</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> INTRO</a></li>
<li class="chapter" data-level="2" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>2</b> Git</a><ul>
<li class="chapter" data-level="2.1" data-path="git.html"><a href="git.html#uwagi-rozne"><i class="fa fa-check"></i><b>2.1</b> uwagi rozne</a></li>
<li class="chapter" data-level="2.2" data-path="git.html"><a href="git.html#logika-git-a"><i class="fa fa-check"></i><b>2.2</b> logika git-a</a></li>
<li class="chapter" data-level="2.3" data-path="git.html"><a href="git.html#repozytoria"><i class="fa fa-check"></i><b>2.3</b> repozytoria</a></li>
<li class="chapter" data-level="2.4" data-path="git.html"><a href="git.html#diff"><i class="fa fa-check"></i><b>2.4</b> diff</a></li>
<li class="chapter" data-level="2.5" data-path="git.html"><a href="git.html#tracking"><i class="fa fa-check"></i><b>2.5</b> tracking</a></li>
<li class="chapter" data-level="2.6" data-path="git.html"><a href="git.html#gitignore"><i class="fa fa-check"></i><b>2.6</b> gitignore</a></li>
<li class="chapter" data-level="2.7" data-path="git.html"><a href="git.html#stage"><i class="fa fa-check"></i><b>2.7</b> stage</a></li>
<li class="chapter" data-level="2.8" data-path="git.html"><a href="git.html#branches"><i class="fa fa-check"></i><b>2.8</b> branches</a></li>
<li class="chapter" data-level="2.9" data-path="git.html"><a href="git.html#commits"><i class="fa fa-check"></i><b>2.9</b> commits</a><ul>
<li class="chapter" data-level="2.9.1" data-path="git.html"><a href="git.html#podstawy"><i class="fa fa-check"></i><b>2.9.1</b> podstawy</a></li>
<li class="chapter" data-level="2.9.2" data-path="git.html"><a href="git.html#funkcja-log-wyswietla-liste-commitow"><i class="fa fa-check"></i><b>2.9.2</b> funkcja log (wyswietla liste commitow)</a></li>
<li class="chapter" data-level="2.9.3" data-path="git.html"><a href="git.html#wskazniki"><i class="fa fa-check"></i><b>2.9.3</b> wskazniki</a></li>
<li class="chapter" data-level="2.9.4" data-path="git.html"><a href="git.html#revert-vs-reset"><i class="fa fa-check"></i><b>2.9.4</b> revert vs reset</a></li>
<li class="chapter" data-level="2.9.5" data-path="git.html"><a href="git.html#squash"><i class="fa fa-check"></i><b>2.9.5</b> squash</a></li>
<li class="chapter" data-level="2.9.6" data-path="git.html"><a href="git.html#merge"><i class="fa fa-check"></i><b>2.9.6</b> merge</a></li>
<li class="chapter" data-level="2.9.7" data-path="git.html"><a href="git.html#rebase"><i class="fa fa-check"></i><b>2.9.7</b> rebase</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="git.html"><a href="git.html#stash"><i class="fa fa-check"></i><b>2.10</b> stash</a></li>
<li class="chapter" data-level="2.11" data-path="git.html"><a href="git.html#inne-komendy"><i class="fa fa-check"></i><b>2.11</b> Inne komendy</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sonar-qube.html"><a href="sonar-qube.html"><i class="fa fa-check"></i><b>3</b> SONAR QUBE</a><ul>
<li class="chapter" data-level="3.1" data-path="sonar-qube.html"><a href="sonar-qube.html#installing"><i class="fa fa-check"></i><b>3.1</b> Installing</a></li>
<li class="chapter" data-level="3.2" data-path="sonar-qube.html"><a href="sonar-qube.html#running"><i class="fa fa-check"></i><b>3.2</b> Running</a></li>
<li class="chapter" data-level="3.3" data-path="sonar-qube.html"><a href="sonar-qube.html#project"><i class="fa fa-check"></i><b>3.3</b> Project</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="windows.html"><a href="windows.html"><i class="fa fa-check"></i><b>4</b> Windows</a><ul>
<li class="chapter" data-level="4.1" data-path="windows.html"><a href="windows.html#podstawy-skladni"><i class="fa fa-check"></i><b>4.1</b> podstawy skladni</a></li>
<li class="chapter" data-level="4.2" data-path="windows.html"><a href="windows.html#zmienne"><i class="fa fa-check"></i><b>4.2</b> zmienne</a></li>
<li class="chapter" data-level="4.3" data-path="windows.html"><a href="windows.html#control-flow"><i class="fa fa-check"></i><b>4.3</b> control flow</a></li>
<li class="chapter" data-level="4.4" data-path="windows.html"><a href="windows.html#odpalanie-stron-w-danej-przegladarce"><i class="fa fa-check"></i><b>4.4</b> odpalanie stron w danej przegladarce</a></li>
<li class="chapter" data-level="4.5" data-path="windows.html"><a href="windows.html#przydatne-komentu"><i class="fa fa-check"></i><b>4.5</b> przydatne komentu</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Python</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="git" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Git</h1>
<p>C:/Users/memy/OneDrive/Pulpit/1_Programs_and_programing/GIT/git_test/repo1</p>
<div id="uwagi-rozne" class="section level2">
<h2><span class="header-section-number">2.1</span> uwagi rozne</h2>
<ol style="list-style-type: decimal">
<li>Wystarczy podawać PIERWSZE 8 znakow nazwy commitu przy odwolywaniu sie do niego.</li>
<li>Moze wystapic problem kiedy w pliku zostana zrobione zmiany w dwoch roznych programach (np. w samym Git i w Git pod Rstudio). Wtedy trzeba usunac odpowiedni plik poleceniem w konsoli Git.</li>
<li>Dopoki katalog repozytorium jest pusty nie utworzy sie zaden branch !!!</li>
</ol>
</div>
<div id="logika-git-a" class="section level2">
<h2><span class="header-section-number">2.2</span> logika git-a</h2>
<p>Podstawowe elementy i czynnosci zwiazane z git-em</p>
<p><img src="figures/GIT-elements_and_actions.png" /></p>
</div>
<div id="repozytoria" class="section level2">
<h2><span class="header-section-number">2.3</span> repozytoria</h2>
<ul>
<li><p>UTWORZENIE lokalnego repozytorium</p>
<pre><code>git init # w katalogu w ktorym aktualnie przebywam zostanie utworzone lokalnie nowe repo git-a</code></pre></li>
<li><p>LISTA repozytoriow zdalnych</p>
<pre><code>git remote -v</code></pre></li>
<li><p>DODANIE dla lokalnego repozytorium polaczenia do zdalnego repo na publicznym GitHubie.</p>
<pre><code>git remote add origin  git@github.com:USERNAME/REPOSITORY.git</code></pre></li>
<li><p>ZMIANA URL dla istniejącego polaczenia ze zdalnym repozytorium</p>
<pre><code>git remote set-url origin git@github.com:USERNAME/REPOSITORY.git # &#39;origin&#39; to bedzie nazwa polaczenia do ktorego bedziemy mogli sie potem odwolywac w komendach</code></pre></li>
<li><p>USUNIECIE poloczenia do zdalnego repo ktore przy laczeniu nazwalismy ‘origin’</p>
<pre><code>git remote rm origin # &#39;origin&#39; musi byc wczesniej zdefiniwoane</code></pre></li>
<li><p>Wypchniecie zmian z lokalnego repo z brancha do repo zdalngo</p>
<pre><code># dla aktualnego brancha
git push

# dla aktulnego brancha z podaniem lokalizacji repo zdalnego i nazwy zdalnego brancha
git push [nazwa-zdalnego-repo] [nazwa-gałęzi]

# jezeli chce dla wszyskich branchow
git push --all</code></pre></li>
<li><p>Wypchniecie zmian z lokalnego repo z aktulanego brancha do repo zdalngo <strong>ZA PIERWSZYM RAZEM</strong>.</p>
<p>Za pierszym razem trzeba ustalic tzw. usptream-branch (Upstream branches define the branch tracked on the remote repository by your local remote branch (also called the remote tracking branch))
<code>git push --set-upstream &lt;remote&gt; &lt;branch&gt;</code></p></li>
<li><p>pobranie metadanych ze zdalnego repo o branchu np. w celach porownania z lokalnym repo</p>
<pre><code># dla aktualnego brancha
git fetch

# jezeli chce dla wszyskich branchow
git fetch -aall</code></pre></li>
<li><p>Pobranie metadanych o branchu ze zdalnego repo + wykonanie ‘merge’</p>
<pre><code># dla aktulnego brancha
git pull # &#39;pull&#39; wykonuje &#39;fetch&#39; i &#39;merge&#39; jednoczesnie.

# jezeli chce dla wszyskich branchow
git pull --all
</code></pre></li>
<li><p>sklowanie zdalnego repo (zazwyczaj robi sie tylko na poczatku). Nie wiem czy klonuje wszystkie branche.</p>
<pre><code>git clone</code></pre></li>
</ul>
</div>
<div id="diff" class="section level2">
<h2><span class="header-section-number">2.4</span> diff</h2>
<p>Polecenie diff sluzy do porownywania plikow pomiedzy modyfikacjami.</p>
<ul>
<li><p>Jakie dokładnie zmiany sa w plikach w stage wzgledem tego to jest przed poczekalnia.</p>
<pre><code>git diff</code></pre>
<p><strong>Uwaga</strong> ‘diff’ nie wyswietli roznic polegajacych na tym ze dodano i nie wrzucono do poczekalni nowego pliku (pliki nie sledzone). ‘diff’ tylko porownuje pliki istniejace.</p></li>
<li><p>zmiany jakie sa w stage wzgledem poprzedniego commitu</p>
<pre><code>git diff --staged</code></pre></li>
<li><p>roznice miedzy branchami</p>
<pre><code>git diff branch_1 branch_2  </code></pre></li>
<li><p>zmiany w konkretnym commicie</p>
<pre><code>git show hash_7</code></pre></li>
<li><p>roznice miedzy dwoma zadanymi commitami</p>
<pre><code>git diff hash_7_1 hash_7_2</code></pre></li>
<li><p>roznica miedzy zadanym commitem i commitem na ktorym jest wskaznik (HEAD to miejsce po ostatnim commicie na branchy na ktory jestesmy)</p>
<pre><code>git diff hash_7 HEAD</code></pre></li>
</ul>
</div>
<div id="tracking" class="section level2">
<h2><span class="header-section-number">2.5</span> tracking</h2>
<p>Nie wszystkie pliki ktore mamy w katalogu repozytorium muszę być śledzone przez git-a. W szczegolnosci nowo dodane pliki nie sa automatycznie sledzone.</p>
<ul>
<li><p>Rozpoczecie sledzenie nowo dodanego pliku</p>
<pre><code>git cp s1 s2 # dodalem plik &#39;s2&#39; kopiujac &#39;s1&#39;
git status # dostaje komunikat ze plik jest niesledzony
git add . # dodane plik do sledzenia</code></pre></li>
<li><p>Jeżeli chcemy aby jakis plik nie był sledzony na stale to dodajemy go do pliku .gitignore (patrz nastepny punkt manuala)</p></li>
</ul>
</div>
<div id="gitignore" class="section level2">
<h2><span class="header-section-number">2.6</span> gitignore</h2>
<p>-tworzenie pustego pliku (najszybsza metoda)
<code>touch .gitignore</code></p>
<p>-zaladownie globalnego pliku glitignore (o nazwie ‘.gitignore_global’) waznego dla wszysktkich repozytoriow lokalnych.
<code>git config --global core.excludesfile ~/.gitignore_global</code></p>
<ul>
<li><p>problemy z sledzeniem plikow (git np. jakiegos ignoruje a nie powinien):</p>
<p>Czasami aby gitignore dzialal dobrze trzeba wyczyscic cache:</p>
<pre><code>git rm -r --cached .
git add .
git commit -m &quot;.gitignore is now working&quot;</code></pre></li>
<li><p>Skladnia wewnatrz gitignore</p>
<ul>
<li><p>ignoruj wszystkie pliki z rozszrzeniem ‘log’</p>
<pre><code>*.log </code></pre></li>
<li><p>ignoruj wszystkie pliki z rozszrzeniem ‘log’ z wyjatkiem ‘important.log’</p>
<pre><code>*.log
!important.log</code></pre></li>
<li><p>ignoruj caly katalog ‘logs’</p>
<pre><code>logs/</code></pre></li>
<li><p>Z katalogu ‘logs’ ignoruj tylko plik ‘debug.log’</p>
<pre><code>logs/debug.log</code></pre></li>
<li><p>ignoruj katalog ‘logs’ z wyjatkiem znajdujacego sie w nim pliku ‘important.log’</p>
<pre><code>logs/
!logs/important.log</code></pre></li>
<li><p>ignoruj wszystkie pliki i katalogi z wyjatkiem pliku ‘module.py’</p>
<pre><code>*
!module.py</code></pre></li>
<li><p>Reczne jednorazowe zawieszenie ignorowania pliku dla commitu</p>
<pre><code>git add -f debug.log
git commit -m &quot;Force adding debug.log&quot;</code></pre></li>
</ul></li>
</ul>
</div>
<div id="stage" class="section level2">
<h2><span class="header-section-number">2.7</span> stage</h2>
<p>Stage to poczelania. Tutaj przechowuje sie tymczasowo modyfikacje przed commit-em.
Stage wystepuje tez pod innymi nazwami z literaturze:
+ Index
+ Cache
+ Directory cache
+ Current directory cache
+ Staging area
+ Staged files</p>
<ul>
<li><p>cofniecie zmian z stage (poczekalni)</p>
<pre><code>git reset HEAD nazwa_pliku</code></pre></li>
<li><p>dodanie do stage wszystkich modyfikacji nie bedacych w poczekalni</p>
<pre><code>git add .</code></pre></li>
<li><p>dodanie do stage modyfikacji w konkretnym pliku</p>
<pre><code>git add naza_pliku</code></pre></li>
</ul>
</div>
<div id="branches" class="section level2">
<h2><span class="header-section-number">2.8</span> branches</h2>
<p>Nie mylic branchow z repozytoriami !!!. Jedno repozytorium moze miec wiele branchow.</p>
<ul>
<li><p>lista lokalnych branchow</p>
<pre><code>git branch</code></pre></li>
<li><p>lista wszyskich branchow ( branche zdalne są na czerwowo)</p>
<pre><code>git branch --all</code></pre></li>
<li><p>przelaczenie sie na inny branch</p>
<pre><code>git checkout &lt;branch&gt;</code></pre></li>
<li><p>utworzenie nowego brancha i przelaczenie sie na niego</p>
<pre><code>git checkout -b &lt;branch&gt;</code></pre></li>
<li><p>utworzenie nowego brancha bez przelaczenie sie na niego</p>
<pre><code>git branch &lt;name_of_your_new_branch&gt;</code></pre></li>
<li><p>usuniecie brancha (dwie metody)</p>
<pre><code>git branch -d branch_name
git branch -D branch_name</code></pre>
<ul>
<li>The -d option stands for –delete, which would delete the local branch, only if you have already pushed and merged it with your remote branches.</li>
<li>The -D option stands for –delete –force, which deletes the branch regardless of its push and merge status, so be careful using this one!</li>
</ul></li>
<li><p>usuniecie zdalnego brancha</p>
<pre><code>git push &lt;remote_name&gt; --delete &lt;branch_name&gt;</code></pre></li>
<li><p>utworzenia zdalnego brancha w oparciu o lokalny:
Najpierw tworzymy go lokalnie. A potem pushujemy odpowiednio.</p>
<pre><code>Syntax:
$ git push &lt;REMOTE_NAME&gt; &lt;LOCAL_BRANCH_NAME&gt;:&lt;REMOTE_BRANCH_NAME&gt;

Command:
$ git push origin stage1:development</code></pre>
<p>Przykla ze strony:
<a href="https://tecadmin.net/how-to-create-a-branch-in-remote-git-repository/">How to Create a Branch in Remote Git Repository</a></p></li>
</ul>
</div>
<div id="commits" class="section level2">
<h2><span class="header-section-number">2.9</span> commits</h2>
<div id="podstawy" class="section level3">
<h3><span class="header-section-number">2.9.1</span> podstawy</h3>
<ul>
<li><p>commit dla konkretnego pliku</p>
<pre><code>git commit nazwa_pliku -m &#39;.&#39;</code></pre></li>
<li><p>add i commit w jednej komendzie</p>
<pre><code>git commit -am &quot;comment&quot;</code></pre></li>
<li><p>lista commits (wiecej o funkcji log do wyswietlania commitoW jest dalej)</p>
<pre><code>git log </code></pre></li>
<li><p>modyfikacja do komentarza w ostatniej zmianie</p>
<pre><code>git commit --amend</code></pre>
<p>Wchodzę w VIM w tryb umozliwiajacy zmiany i poprawiam pierwsza linijke gdzie jest komentarz. Naciskam <esc> i potem :wq i <enter></p></li>
</ul>
</div>
<div id="funkcja-log-wyswietla-liste-commitow" class="section level3">
<h3><span class="header-section-number">2.9.2</span> funkcja log (wyswietla liste commitow)</h3>
<ul>
<li><p>lista commitow dla konkretnego pliku</p>
<pre><code>git log nazwa_pliku</code></pre></li>
<li><p>lista commitow dla konkretnego brancha (tutaj ‘master’)</p>
<pre><code>git log master</code></pre></li>
<li><p>lista ladnie sformatowana</p>
<pre><code>git lot --decorate</code></pre></li>
<li><p>lista uproszczona jednolinijkowa per commit (dla bardziej zwiezlego i kompaktowego output)</p>
<pre><code>git log --oneline</code></pre></li>
<li><p>list commitow jako drzewo (przydaje sie kiedy jest wiele branchow, mergow itp.)</p>
<pre><code>git log --graph --oneline --decorate</code></pre>
<p>Przyklad output takiej drzewiastej listy:</p>
<pre><code>* 0e25143 (HEAD, master) Merge branch &#39;feature&#39;
|\
| * 16b36c6 Fix a bug in the new feature
| * 23ad9ad Start a new feature
* | ad8621a Fix a critical security issue
|/
* 400e4b7 Fix typos in the documentation
* 160e224 Add the initial code base</code></pre>
<p>Co widzimy powyżej:
The asterisk shows which branch the commit was on, so the above graph tells us that the 23ad9ad and 16b36c6 commits are on a topic branch and the rest are on the master branch.</p></li>
<li><p>lista commitow z datami</p>
<pre><code>git log --pretty=format:&quot;%cn committed %h on %cd&quot;</code></pre></li>
<li><p>lista commitow-filtrowanie:</p>
<ul>
<li><p>ostatnie 3 commity</p>
<pre><code>git log -3</code></pre></li>
<li><p>po dacie</p>
<pre><code>git log --after=&quot;2014-7-1&quot;
git log --after=&quot;yesterday&quot;
git log --after=&quot;2014-7-1&quot; --before=&quot;2014-7-4&quot;</code></pre></li>
<li><p>po autorze:</p>
<pre><code>git log --author=&quot;John&quot;</code></pre></li>
<li><p>po autorze z uzyciem regex:</p>
<pre><code>git log --author=&quot;John\|Mary&quot;</code></pre></li>
<li><p>po message:</p>
<pre><code>git log --grep=&quot;JRA-224:&quot;</code></pre></li>
<li><p>po commitach dotyczacych tylko i wylacznie jedngo brancha (nie wyswietla commitow wspoldzielonych z innymi branchami):</p>
<pre><code>git log master..feature</code></pre>
<p>Np jesli na poczatku byl tylko branch ‘master’, a potem wydzieli sie od niego nowy branch to ‘master..feature’ zwroci to co sie dzieje na masterze od czasu wydzielenia sie nowego brancha. To co jest przed podzialem jest wspolne dla obu branchy a nie jest unikatowe dla ‘master’, dlatego nie bedzie wyswietlone.</p></li>
<li><p>commity bedace mergami:</p>
<pre><code>git log --merges</code></pre></li>
</ul></li>
</ul>
</div>
<div id="wskazniki" class="section level3">
<h3><span class="header-section-number">2.9.3</span> wskazniki</h3>
<ul>
<li><p>przesuniecie wskaznika na zadany commit (o nazwie ‘7eb01a3’) na branchu ‘master’ i potem powrot do HEAD</p>
<pre><code>git checkout a7eb01a3
git checkout master</code></pre></li>
<li><p>cofniecie wskaznika na stary commit (o nazwie 0d1d7fc32) i utworzenie od niego branch-a o nazwie ‘new_branch’</p>
<pre><code>git checkout 0d1d7fc32
git checkout -b new_branch</code></pre></li>
<li><p>cofniecie zmian do zadanego commitu na danym branchu</p>
<pre><code>git checkout master
git reset --hard 1258f0d0aae</code></pre>
<p>This will destroy any local modifications. Don’t do it if you have uncommitted work you want to keep.</p>
<p>Alternatively, if there’s work to keep you can use ‘stash’:</p>
<pre><code>git stash
git reset --hard 0d1d7fc32
git stash pop</code></pre>
<p>This saves the modifications, then reapplies that patch after resetting.
You could get merge conflicts, if you’ve modified things which were
changed since the commit you reset to.</p></li>
<li><p>usuniecie ostatniego commitu (HAED to glowa drzewa commitow, czyli ostatni commit)</p>
<pre><code>git reset HEAD</code></pre></li>
<li><p>usuniecie 3 ostatanich commitow</p>
<pre><code>  git rebase HEAD~3</code></pre></li>
<li><p>usuniecie kilku commitow
usuniecie 4 i 3 commitu (commmit 1 to commit pierwszy chyba)</p>
<pre><code>git rebase --onto master~4 master~2 master  </code></pre>
<p>Powyzej celowo jest ‘master~2’ a nie ‘master~3’ mimo ze kasujemy od trzeciego commitu !!! . Niestety moga wystapic konflikty przy uzyciu ‘rabase’ takie jak przy mergowaniu. Wtedy trzeba postepowac zgodnie z instrukcjami wyswietlanymi przez git-a na ekranie. Pracuje się tak jak przy mergu. Czyli patrze na jakich plikach jest konflikt , potem zmieniam to recznie w plikach wedlug znaczników, potem daje git add <plik> i potem git rebase –continue.
W zmianach zatwierdzam to co jest ostatnie i chyba wtedy bedzie ok.</p></li>
</ul>
</div>
<div id="revert-vs-reset" class="section level3">
<h3><span class="header-section-number">2.9.4</span> revert vs reset</h3>
<ul>
<li><p>revert vs reset (porownanie)</p>
<p>Let’s say you had commits:</p>
<p>C
B
A
git revert B, will create a commit that undoes changes in B.</p>
<p>git revert A, will create a commit that undoes changes in A, but will not touch changes in B</p>
<p>Note that if changes in B are dependent on changes in A, the revert of A is not possible.</p>
<p>git reset –soft A, will change the commit history and repository; staging and working directory will still be at state of C.</p>
<p>git reset –mixed A, will change the commit history, repository, and staging; working directory will still be at state of C.</p>
<p>git reset –hard A, will change the commit history, repository, staging and working directory; you will go back to the state of A completely.</p>
<p>Podsumowujac w uproszczeniu.
restet - cofam się o kilka commitow usuwajac je po drodze.
revert - kopiuje na poczatek (jako HEAD) commit do ktorego stanu chcemy sie cofnac nie usuwajac commitow pomiedzy obecnym a tym do ktorego chcemy sie cofnac.</p>
<p><img src="figures/Git-Reverting-Resetting.jpg" /></p></li>
</ul>
</div>
<div id="squash" class="section level3">
<h3><span class="header-section-number">2.9.5</span> squash</h3>
<p>Zlewanie kilku commitow w jeden</p>
<ul>
<li><p>Przyklad</p>
<pre><code># zakladam ze mam kilka commitow
git rebase -i HEAD~3  # bede zlewal 3 ostatnie commity. Niezbedne jest tutaj &#39;-i&#39; (tryb interaktywny) aby moc wykonac squash 
# po zatwierdzeniu powyzszego  wyswietli mi sie vim
# na w vim gorze bede mial liste moich commitow ze slowem &#39;pick&#39; na poczkatku
# tutaj robie edycje:
# dla pierwszego commitu zostawiam &#39;pick&#39; a dla dwoch nastepnych &#39;pick&#39; zamieniam na &#39;squash&#39;
# wychodze zapsisujac zmiany: esc :wq  
# teraz wyswielti sie kolejny plik gdzie bede mial mozliwosc edytowania komentarza
# w efekcie 3 cimmitu zlalem w jeden.</code></pre></li>
</ul>
</div>
<div id="merge" class="section level3">
<h3><span class="header-section-number">2.9.6</span> merge</h3>
<ul>
<li><p>zlaczenie brancha ‘prod’ do biezacego brancha</p>
<pre><code>git merge prod</code></pre></li>
<li><p>sprawdzenie i rozwiazywanie konfliktow</p>
<p>Zeby zoabaczyc na jakich plikach sa konflikty (zakladam ze jestesmy w trakcie procesu mergowania):</p>
<pre><code>git status</code></pre>
<p>Nastepnie w plikach mozna zobaczyc ze beda dodane nastepujace elemenenty:</p>
<p>Between the &lt;&lt;&lt;&lt;&lt;&lt;&lt; and =======, you will find the version as per the changes in your current branch, relative to the base commit.</p>
<p>Between the ======= and &gt;&gt;&gt;&gt;&gt;&gt;&gt;, you will find the version according to the other branch, relative to the base commit.</p>
<p>For convenience, after the &lt;&lt;&lt;&lt;&lt;&lt;&lt; and &gt;&gt;&gt;&gt;&gt;&gt;&gt; markers, you will see hints as to which commit that part of the conflict stems from, HEAD of course being the current revision.</p>
<p>Example:</p>
<p>++&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
++abcgh
++=======
++abcdef
++&gt;&gt;&gt;&gt;&gt;&gt;&gt; prod</p>
<p>Ustalamy jak ma wygladac wersja finalna pliku.
Nastepnie bedac dalej w procesie mergowania robimy git add . i potem git commit -m’komentarz’ . Mergowania automatycznie sie zakonczy</p></li>
<li><p>zaprzestanie/przerwanie procesu mergowania</p>
<pre><code>git merge -abort</code></pre></li>
</ul>
</div>
<div id="rebase" class="section level3">
<h3><span class="header-section-number">2.9.7</span> rebase</h3>
<ul>
<li><p>‘rebase’ pelni funkcje podobna do ‘merge’, ale sa roznice:</p>
<p><img src="figures/merge_vs_rebase.png" /></p></li>
<li><p>Przyklad</p>
<pre><code># od mastera tworze nowy branch &#39;feature_master&#39; i przlaczam sie na niego
git checkout -b feature_branch master

# na nowym branchu zatwierdzam jakas zmiane
git commit

git rebase master ( teraz na &#39;feature_master&#39; mam baze z mastera, czyli mam wszystko co bylo w masterze od czasu wydzielenia &#39;feature_master&#39; plus commity na &#39;feature&#39; master od czasu tego wydzielenia). Uwaga: master jest jeszcze nie usuniety.

git checkout master # przlaczenie na mastera
git rebase feature_master # teraz master (zakladam ze w tym czasie nie bylo na nim zadnych zmian) zaciaga to co jest w feature_master ktory przestaje teraz istniec). Pelny rebase mastera ktory zostal przeprowadzony. </code></pre></li>
<li><p>dobry przyklad pokazjacy powyzsza operacje:
<a href="https://www.youtube.com/watch?v=f1wnYdLEpgI" class="uri">https://www.youtube.com/watch?v=f1wnYdLEpgI</a> (“A Better Git Workflow with Rebase” by The Modern Coder)</p></li>
</ul>
</div>
</div>
<div id="stash" class="section level2">
<h2><span class="header-section-number">2.10</span> stash</h2>
<p>Sluzy do przechowywaniu na boku w pamieci ostatnich niezacommitowanych zmian. Po przerzuceniu do stasha tych zmian nie widzimy ich (komenta ‘status’ niec nie zwroci), ale ponieważ sa przechowywane mozemy je przywrocic.</p>
<ul>
<li><p>Pelny przyklad dzialania:</p>
<pre><code># wprowadzam zmiane tworzac plik s1
touch s1
git status # dostajemy informacje ze mamy niesledzony plik &#39;s1&#39;. 
git add . 
git status # teraz dostajemy informacje ze w poczekalni jest nowy plik do commitu. Tutaj mamy wiec nie zacommitowana zmiane, ktora wrzucimy do stasha.

# zapisuje zmiane do stasha z komentarzem
git stash save &#39;dodanie s1 do poczekalni&#39;
git status # dodanie pliku &#39;s1&#39; do poczekalni zostalo wrzucone do stasha. Mamy teraz dla &#39;status&#39; komunikat taki sam jak przez uzyciem &#39;add&#39; czyli jedynie informacje ze jest niesledzony plik &#39;s1&#39;

# lista stash-ow
git stash list # na liscie mamy jednego stasha z indeksem 0. Indeks zero ma zawsze najnowszy stash.

git stash pop statsh@{0} # przywrocenia zawartosci ostatniego stasha i usuniecie go (kiedy przywracamy ostatniego nie musimy podawac jego nazwy, czyli w tym przypadku statsh{0})

git status # znowu dostajemy informacje ze w poczekalni jest nowy plik do commitu, czyli mamy przywrocone niezacommitowane zmiany.
</code></pre>
<p>Uwaga: Po stworzeniu jednego stasha mozemy tworzyc kolejne. Najnowszy statsh ma zawsze indeks zero.</p>
<p>Uwaga: oprocz ‘stash pop’ jest jeszcze ‘stash apply’ ktory przywraca zawartosc ostatniego stasha ale go nie usuwa</p>
<pre><code>git stash apply statsh@{0} # przywrocenia zawartosci ostatniego stasha bez uzuwania go.</code></pre></li>
<li><p>Usuwanie konretnego stasha</p>
<pre><code>git stash drop statsh{0} # usuwam ostatniego stasha</code></pre></li>
<li><p>Usuwanie wszyskich stashow</p>
<pre><code>git stash clear</code></pre></li>
</ul>
</div>
<div id="inne-komendy" class="section level2">
<h2><span class="header-section-number">2.11</span> Inne komendy</h2>
<ul>
<li><p>Czyszczenie cache</p>
<pre><code>git rm -r -cached</code></pre></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sonar-qube.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/Git.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-Manual_R.pdf", "bookdown-Manual_R.epub"],
"toc": {
"collapse": "section",
"depth": 4
}
});
});
</script>

</body>

</html>
